Notes for Screen3

...

NEXT STEPS FOR SCREEN3

1. Get Agency + Routes model + collection working. 
2. Get Departures model + collection working. 
3. Get Alerts model + collection working. 
4. Views!

...

Agency: model. (or object.)
An Agency contains collections.  Of routes, alerts, etc.
Either the Agency or the collections manage the refresh of those collections.
Agency collections are tied to display collections: when an agency collection is updated an event triggers a refresh of the display collection. (Which can either happen immediately, or not.)
An update to a display collection triggers a refresh of a view. (Which either happens immediately, or not.) 

The way the program & configuration are oriented is the other way around. 

The big file loads the definitions of the models, views, etc. 
The little, sign-specific file then creates the agencies. 
...

Every second the Agency runs a test. 
It updates minutesAway as needed. 
It checks to see if anything's ready to refresh, and kicks that off. Maybe. 
...


Expand on AgencyComponents to include what it needs to fetch the data. 
 - A reference back to the agency
 - the URL(s) of data source
 - the type of data source (e.g. MBTA-realtime)
 - refresh rate of data source

Then the collections which are an expansion of that also set the model type and specify the way(s) data is retrieved. 

other collections are displaycollections. they're synced to agency collections. 

Routes: 
An event ties agency routes & local routes together. 
When either one is updated, a process runs to denote which agency routes are also local. 

Note: not sure how to deal with the fact that in some cases we want to call multiple URLs to get multiple lists of local routes, for example; could have an array of URLs in the collection, but may be able to minimize logic rewriting (and preserve some information that might otherwise be lost) by having multiple lists.

#######

Thoughts on Sunday evening, 7/28/15, about Agencies: 

Perhaps there could be a model for an aspect of information about an agency. This could contain:
    - A name
    - A reference back to the agency
    - a collection
    - A maxAge
    - Logic to keep this aspect of information up-to-date
    - up-to-date or not
    

